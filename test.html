<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Cookie Manager 测试页面</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1, h2 {
            color: #333;
        }
        .section {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        button {
            background-color: #4285f4;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #3367d6;
        }
        .cookie-info {
            background-color: #e8f0fe;
            border-left: 4px solid #4285f4;
            padding: 10px;
            margin: 10px 0;
        }
        code {
            background-color: #f0f0f0;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Cookie Manager 测试页面</h1>
    
    <div class="section">
        <h2>关于此页面</h2>
        <p>这是一个用于测试Chrome Cookie Manager插件的示例页面。您可以：</p>
        <ul>
            <li>使用下面的按钮设置一些测试Cookie</li>
            <li>安装并打开Cookie Manager插件查看这些Cookie</li>
            <li>测试插件的读取、写入和复制功能</li>
        </ul>
    </div>
    
    <div class="section">
        <h2>设置测试Cookie</h2>
        <p>点击下面的按钮设置一些测试Cookie，然后使用Cookie Manager插件查看它们：</p>
        
        <button onclick="setTestCookie('username', 'testuser')">设置用户名Cookie</button>
        <button onclick="setTestCookie('session_id', 'abc123xyz789')">设置会话ID Cookie</button>
        <button onclick="setTestCookie('preferences', 'dark_mode=true')">设置偏好设置Cookie</button>
        <button onclick="setTestCookie('last_visit', new Date().toISOString())">设置最后访问时间Cookie</button>
        <button onclick="clearAllTestCookies()">清除所有测试Cookie</button>
        
        <div class="cookie-info">
            <strong>提示：</strong> 设置Cookie后，点击工具栏中的Cookie Manager图标，然后点击"获取所有Cookie"按钮查看刚刚设置的Cookie。
        </div>
    </div>
    
    <div class="section">
        <h2>当前页面的Cookie</h2>
        <p>以下是当前页面设置的所有Cookie：</p>
        <div id="cookieList">点击"刷新Cookie列表"按钮查看</div>
        <button onclick="displayCookies()">刷新Cookie列表</button>
    </div>
    
    <div class="section">
        <h2>使用Cookie Manager插件</h2>
        <ol>
            <li>确保已安装Cookie Manager插件</li>
            <li>点击上面的按钮设置一些测试Cookie</li>
            <li>点击工具栏中的Cookie Manager图标</li>
            <li>尝试以下操作：
                <ul>
                    <li>点击"获取所有Cookie"查看所有Cookie</li>
                    <li>点击"获取指定Cookie"，输入"username"查看特定Cookie</li>
                    <li>点击"复制Cookie"将Cookie复制到剪贴板</li>
                    <li>在"写入Cookie"部分设置新的Cookie</li>
                </ul>
            </li>
        </ol>
    </div>
    
    <script>
        /**
         * 设置测试Cookie
         * @param {string} name - Cookie名称
         * @param {string} value - Cookie值
         */
        function setTestCookie(name, value) {
            document.cookie = `${name}=${value}; path=/; max-age=86400`; // 24小时过期
            displayCookies();
            alert(`已设置Cookie: ${name}=${value}`);
        }
        
        /**
         * 清除所有测试Cookie
         */
        function clearAllTestCookies() {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i];
                const eqPos = cookie.indexOf('=');
                const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                document.cookie = `${name}=; path=/; max-age=-1`;
            }
            displayCookies();
            alert('已清除所有Cookie');
        }
        
        /**
         * 显示当前页面的Cookie
         */
        function displayCookies() {
            const cookieList = document.getElementById('cookieList');
            const cookies = document.cookie;
            
            if (cookies) {
                const cookieArray = cookies.split(';').map(cookie => {
                    const [name, value] = cookie.trim().split('=');
                    return `<li><code>${name}</code> = <code>${value || ''}</code></li>`;
                }).join('');
                
                cookieList.innerHTML = `<ul>${cookieArray}</ul>`;
            } else {
                cookieList.innerHTML = '<p>当前页面没有Cookie</p>';
            }
        }
        
        // 页面加载时显示Cookie
        window.onload = function() {
            displayCookies();
        };
    </script>
</body>
</html>